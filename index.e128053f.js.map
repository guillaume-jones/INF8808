{"mappings":"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","sources":["node_modules/d3-collection/src/map.js","node_modules/d3-collection/src/set.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/select.js","node_modules/d3-tip/index.js","node_modules/point-in-polygon/flat.js","src/scripts/geography.js","src/scripts/preprocess.js","src/scripts/mapViz.js","node_modules/point-in-polygon/index.js","node_modules/point-in-polygon/nested.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/namespaces.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/namespace.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/creator.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/local.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/matcher.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/on.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selector.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selectorAll.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/enter.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/data.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/sort.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/attr.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/window.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/style.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/property.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/classed.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/text.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/html.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/raise.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/lower.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/insert.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/remove.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/index.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/select.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/filter.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/constant.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/exit.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/merge.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/order.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/call.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/node.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/size.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/empty.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/each.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/append.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/selection/datum.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatPrefixAuto.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatDecimal.js","node_modules/d3-svg-legend/node_modules/d3-format/src/exponent.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatRounded.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatTypes.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatDefault.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatSpecifier.js","node_modules/d3-svg-legend/node_modules/d3-format/src/locale.js","node_modules/d3-svg-legend/node_modules/d3-format/src/defaultLocale.js","node_modules/d3-svg-legend/node_modules/d3-format/src/formatGroup.js","node_modules/d3-svg-legend/node_modules/d3-format/src/precisionFixed.js","node_modules/d3-svg-legend/node_modules/d3-format/src/precisionPrefix.js","node_modules/d3-svg-legend/node_modules/d3-format/src/precisionRound.js","node_modules/d3-svg-legend/node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-svg-legend/node_modules/d3-array/src/ascending.js","node_modules/d3-svg-legend/node_modules/d3-array/src/bisector.js","node_modules/d3-svg-legend/node_modules/d3-array/src/bisect.js","node_modules/d3-svg-legend/node_modules/d3-array/src/array.js","node_modules/d3-svg-legend/node_modules/d3-array/src/range.js","node_modules/d3-svg-legend/node_modules/d3-array/src/ticks.js","node_modules/d3-svg-legend/node_modules/d3-array/src/max.js","node_modules/d3-svg-legend/node_modules/d3-array/src/sum.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/array.js","node_modules/d3-color/src/define.js","node_modules/d3-color/src/color.js","node_modules/d3-color/src/math.js","node_modules/d3-color/src/cubehelix.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/basisClosed.js","node_modules/d3-interpolate/src/numberArray.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-interpolate/src/round.js","node_modules/d3-interpolate/src/cubehelix.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/constant.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/number.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/continuous.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/tickFormat.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/linear.js","node_modules/d3-time/src/interval.js","node_modules/d3-time/src/millisecond.js","node_modules/d3-time/src/second.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/minute.js","node_modules/d3-time/src/hour.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/month.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/utcMinute.js","node_modules/d3-time/src/utcHour.js","node_modules/d3-time/src/utcDay.js","node_modules/d3-time/src/utcWeek.js","node_modules/d3-time/src/utcMonth.js","node_modules/d3-time/src/utcYear.js","node_modules/d3-svg-legend/node_modules/d3-time-format/src/locale.js","node_modules/d3-svg-legend/node_modules/d3-time-format/src/defaultLocale.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/colors.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/category10.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/category20b.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/category20c.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/category20.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/cubehelix.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/rainbow.js","node_modules/d3-svg-legend/node_modules/d3-scale/src/viridis.js","node_modules/d3-svg-legend/src/legend.js","node_modules/d3-svg-legend/node_modules/d3-selection/src/select.js","node_modules/d3-svg-legend/src/helpers.js","node_modules/d3-svg-legend/index.js","node_modules/d3-svg-legend/src/color.js","node_modules/d3-svg-legend/src/size.js","node_modules/d3-svg-legend/src/symbol.js","src/scripts/lineChart.js","src/scripts/areaChart.js","src/scripts/barChartViz.js","src/scripts/dropdown.js","src/scripts/clickHandlers.js","src/scripts/changeLocale.js","src/scripts/tooltip.js","src/index.js","src/scripts/spinner.js"],"sourcesContent":["export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n","module.exports = function pointInPolygonFlat (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = (end-start)/2;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[start+i*2+0], yi = vs[start+i*2+1];\n        var xj = vs[start+j*2+0], yj = vs[start+j*2+1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n","import pointInPolygon from 'point-in-polygon';\r\n\r\n/** Gets the Montreal geographical data\r\n *\r\n * @returns {object[]} Montreal GEOJSON\r\n */\r\nexport async function getMontrealData() {\r\n  return await d3.json('montreal.json');\r\n}\r\n\r\n/** Gets the Montreal's bicycle roads geographical data\r\n *\r\n * @returns {object[]} Montreal's bike path GEOJSON\r\n */\r\nexport async function getBikePaths() {\r\n  return await d3.json('reseau_cyclable.geojson');\r\n}\r\n\r\n/**\r\n * Determines the neighborhood based on coordinates\r\n *\r\n * @param {number} lon Longitude of point\r\n * @param {number} lat Latitude of point \r\n * @param {*} montreal Pre-loaded JSON of Montreal data\r\n *\r\n * @returns {string} Neighborhood of point or empty if not found\r\n */\r\nexport function determineNeighborhood(lon, lat, montreal) {\r\n  let returnName = '';\r\n\r\n  montreal.forEach((feature) => {\r\n    if (pointInPolygon([lon, lat], feature.geometry.coordinates[0][0])) {\r\n      returnName = feature.properties.NOM;\r\n    }\r\n  });\r\n\r\n  return returnName;\r\n}\r\n\r\n/** Gets the map projection function\r\n *\r\n * @returns {*} Projection function in Mercator for Montreal\r\n */\r\nexport function getProjection() {\r\n  return d3.geoMercator().center([-73.69, 45.6]).scale(85000);\r\n}\r\n\r\n/** Gets the path function\r\n *\r\n * @param {*} projection Projection in Mercator for Montreal\r\n *\r\n * @returns {*} Path function for Montreal\r\n */\r\nexport function getPath(projection) {\r\n  return d3.geoPath().projection(projection);\r\n}\r\n\r\n/** Gets the (X,Y) positions on the map viz for a given set of coordinates\r\n * @param {number} longitude Longitude to convert\r\n * @param {number} latitude Latitude to convert\r\n * @param {*} projection Projection in Mercator for Montreal\r\n *\r\n * @returns {x: number, y: number}\r\n */\r\nexport function convertCoordinatesToXY(longitude, latitude, projection) {\r\n  const projected = projection([longitude, latitude]);\r\n  return {\r\n    x: projected[0],\r\n    y: projected[1],\r\n  };\r\n}\r\n","import { convertCoordinatesToXY, determineNeighborhood } from './geography';\r\n\r\n/** Computes the sum of an input array, using an optional key to get values\r\n *\r\n * @param {number[]} a The array\r\n * @param {*} key Empty values in the input array\r\n * @returns\r\n */\r\nfunction sum(a, key = '') {\r\n  if (key) {\r\n    a = a.map((a) => a[key]);\r\n  }\r\n  return a.reduce((b, c) => b + (isNaN(c) ? 0 : c), 0);\r\n}\r\n\r\n/** Sums an array by grouping according to the given key.\r\n * Accepts a second key as the property that should be summed.\r\n *\r\n * @param {number[]} a The array\r\n * @param {*} key\r\n * @param {*} key2\r\n * @returns\r\n */\r\nfunction groupSum(a, key, key2) {\r\n  return a.reduce((b, c) => {\r\n    b[c[key]] = (b[c[key]] || 0) + (isNaN(c[key2]) ? 0 : c[key2]);\r\n    return b;\r\n  }, {});\r\n}\r\n\r\n/** Load counter CSVs\r\n *\r\n * @param {number[]} years Array of years to load\r\n *\r\n * @returns {object[]} Array of data by year\r\n */\r\nexport async function getCounterData(years) {\r\n  const counterData = {};\r\n  // Required due to asynchronous loop\r\n  await Promise.all(\r\n    years.map(async (year) => {\r\n      counterData[year] = await d3.csv('comptage_velo_' + year + '.csv');\r\n    }),\r\n  );\r\n\r\n  return counterData;\r\n}\r\n\r\n/** Load location CSV\r\n *\r\n * @returns {object} Location data\r\n */\r\nexport async function getLocationData() {\r\n  return await d3.csv('localisation_des_compteurs_velo.csv');\r\n}\r\n\r\n/** Convert location and counter data into usable dataset\r\n *\r\n * Filters out partial data\r\n * Harmonizes IDs and names\r\n * Organizes by year, counter name, date and time\r\n *\r\n * @param {object} locations Location data from CSV\r\n * @param {object[]} counters Counter data from CSV\r\n * @param {object} years Years of data loaded into counters\r\n *\r\n * @returns {object[]} The filtered and combined dataset\r\n */\r\nexport function createDataset(locations, counters, years, montreal) {\r\n  const dataset = {};\r\n\r\n  years.forEach((year) => {\r\n    const counterData = counters[year];\r\n    dataset[year] = {};\r\n\r\n    // Keeps only data columns\r\n    const acceptedCounters = Object.keys(counterData[0]).filter((name) => {\r\n      return name !== 'Date' && name !== '';\r\n    });\r\n\r\n    // Gets relevant data for each counter from location dataset\r\n    acceptedCounters.forEach((name) => {\r\n      const counter = locations.find((t) => {\r\n        if (name.includes('compteur')) {\r\n          // Finds via ID, for 2019-2021 datasets\r\n          return name.includes(t.ID);\r\n        } else {\r\n          // Finds via name, for 2009-2018 datasets\r\n          return t.Nom === name;\r\n        }\r\n      });\r\n\r\n      dataset[year][counter.Nom] = {\r\n        name: counter.Nom,\r\n        longitude: counter.Longitude,\r\n        latitude: counter.Latitude,\r\n        neighborhood: determineNeighborhood(\r\n          counter.Longitude,\r\n          counter.Latitude,\r\n          montreal,\r\n        ),\r\n        counts: [],\r\n      };\r\n    });\r\n\r\n    // Iterates through counterData to add counts to each counter\r\n    counterData.forEach((timestep) => {\r\n      let date = undefined;\r\n      let time = '00:00';\r\n\r\n      Object.entries(timestep)\r\n        .map(([key, value]) => {\r\n          if (key === 'Date') {\r\n            const dateTime = value.split(' ');\r\n            date = dateTime[0];\r\n            // Gets time as well for datasets after 2018\r\n            if (dateTime.length > 1) {\r\n              time = dateTime[1];\r\n            }\r\n          }\r\n          return [key, value];\r\n        })\r\n        .filter(([name]) => acceptedCounters.includes(name))\r\n        .forEach(([name, count]) => {\r\n          if (parseInt(year) > 2018) {\r\n            name = locations.find((t) => name.includes(t.ID)).Nom;\r\n          }\r\n          dataset[year][name].counts.push({\r\n            date: date,\r\n            time: time,\r\n            count: parseInt(count),\r\n          });\r\n        });\r\n    });\r\n  });\r\n\r\n  return dataset;\r\n}\r\n\r\n/** Generates data in format for the map\r\n *\r\n * @param {object} dataset Dataset created by createDataset\r\n * @param {*} montreal Pre-loaded JSON of Montreal data\r\n * @param {*} projection Projection used for the map\r\n *\r\n * @returns {object} Data for map\r\n */\r\nexport function createMapCircleData(dataset, projection) {\r\n  const mapData = {};\r\n\r\n  Object.entries(dataset).forEach(([year, yearData]) => {\r\n    mapData[year] = Object.entries(yearData).map(([counter, counterData]) => {\r\n      return {\r\n        name: counter,\r\n        neighborhood: counterData.neighborhood,\r\n        counts: sum(counterData.counts, 'count'),\r\n        ...convertCoordinatesToXY(\r\n          counterData.longitude,\r\n          counterData.latitude,\r\n          projection,\r\n        ),\r\n      };\r\n    });\r\n  });\r\n\r\n  return mapData;\r\n}\r\n\r\n/**\r\n * Creates a dataset specific to neighborhoods\r\n * @param {*} montreal Pre-loaded JSON of Montreal data\r\n * @param {object[]} mapData The data created by createMapCircleData\r\n * @returns {object} Neighborhodd data\r\n */\r\nexport function createNeighborhoodData(montreal, mapData) {\r\n  const neighborhoodCounts = {};\r\n  Object.entries(mapData).forEach(([year, counterList]) => {\r\n    // Assemble counts by neighborhood\r\n    const counts = {};\r\n    const numCounters = {};\r\n    counterList.forEach((counter) => {\r\n      counts[counter.neighborhood] =\r\n        (counts[counter.neighborhood] ?? 0) + counter.counts;\r\n      numCounters[counter.neighborhood] =\r\n        (numCounters[counter.neighborhood] ?? 0) + 1;\r\n    });\r\n\r\n    // Place into new data object with GEOJSON data\r\n    neighborhoodCounts[year] = montreal.map((feature) => {\r\n      const name = feature.properties.NOM;\r\n      return {\r\n        type: 'Feature',\r\n        geometry: feature.geometry,\r\n        name: name,\r\n        averageCounts: Math.round(counts[name] / numCounters[name]) || 0,\r\n      };\r\n    });\r\n  });\r\n  return neighborhoodCounts;\r\n}\r\n\r\n/** Generates data in format for line chart\r\n *\r\n * @param {object} dataset Dataset created by createDataset\r\n * @param montreal Pre-loaded JSON of Montreal data\r\n *\r\n * @returns {object} Data for line chart\r\n */\r\nexport function createLineChartData(dataset) {\r\n  const lineChartData = {};\r\n\r\n  Object.entries(dataset).forEach(([year, yearData]) => {\r\n    lineChartData[year] = {};\r\n    let averageDayCounts;\r\n\r\n    // Sums counts across each day for each counter\r\n    // Also adds neighborhood\r\n    Object.entries(yearData).forEach(([counter, counterData]) => {\r\n      let newCounts = [];\r\n\r\n      // Years 2019-2021 need to group the data by day\r\n      if (counterData.counts.length > 366) {\r\n        newCounts = Object.values(\r\n          groupSum(counterData.counts, 'date', 'count'),\r\n        );\r\n      } else {\r\n        newCounts = counterData.counts.map((data) => {\r\n          return isNaN(data.count) ? 0 : data.count;\r\n        });\r\n      }\r\n\r\n      // Save this counter's data to averageDayCounts for average of year\r\n      if (!averageDayCounts) {\r\n        averageDayCounts = newCounts;\r\n      } else {\r\n        newCounts.map((count, i) => {\r\n          averageDayCounts[i] += count;\r\n        });\r\n      }\r\n\r\n      const neighborhood = counterData.neighborhood;\r\n\r\n      // Add counts to dataset under counter\r\n      lineChartData[year][counter] = {\r\n        name: counter,\r\n        neighborhood: neighborhood,\r\n        counts: newCounts.map((v, i) => {\r\n          return {\r\n            index: i,\r\n            value: v,\r\n          };\r\n        }),\r\n      };\r\n\r\n      // Add counts to corresponding neighborhood count\r\n      const neighborhoodCounts = lineChartData[year][neighborhood];\r\n      lineChartData[year][neighborhood] = {\r\n        name: neighborhood,\r\n        counts: newCounts.map((v, i) => {\r\n          return {\r\n            index: i,\r\n            value:\r\n              (neighborhoodCounts ? neighborhoodCounts.counts[i].value : 0) + v,\r\n          };\r\n        }),\r\n      };\r\n    });\r\n\r\n    // Add average for year to dataset\r\n    const totalCounters = Object.keys(yearData).length;\r\n\r\n    lineChartData[year]['Average'] = {\r\n      name: 'All',\r\n      neighborhood: '',\r\n      counts: averageDayCounts.map((counts, i) => {\r\n        return { index: i, value: Math.round(counts / totalCounters) };\r\n      }),\r\n    };\r\n  });\r\n\r\n  return lineChartData;\r\n}\r\n\r\n/** Generates data in format for area chart\r\n *\r\n * @param {object} dataset Dataset created by createDataset\r\n *\r\n * @returns {object} Data for Area chart\r\n */\r\nexport function createAreaChartData(dataset) {\r\n  const areaChartData = {};\r\n\r\n  Object.entries(dataset).forEach(([year, yearData]) => {\r\n    // Time data not available for years before 2019\r\n    if (parseInt(year) < 2019) {\r\n      return;\r\n    }\r\n\r\n    areaChartData[year] = {};\r\n    let averageTimeCounts;\r\n\r\n    // Sums counts across each day for each counter\r\n    // Also adds neighborhood\r\n    Object.entries(yearData).forEach(([counter, counterData]) => {\r\n      let newCounts = Object.values(\r\n        groupSum(counterData.counts, 'time', 'count'),\r\n      );\r\n\r\n      // Save this counter's data to averageTimeCounts\r\n      if (!averageTimeCounts) {\r\n        averageTimeCounts = newCounts;\r\n      } else {\r\n        newCounts.map((count, i) => {\r\n          averageTimeCounts[i] += count;\r\n        });\r\n      }\r\n\r\n      areaChartData[year][counter] = {\r\n        name: counter,\r\n        counts: newCounts.map((v, i) => {\r\n          return {\r\n            index: i,\r\n            value: v,\r\n          };\r\n        }),\r\n      };\r\n\r\n      // Add counts to corresponding neighborhood count\r\n      const neighborhood = counterData.neighborhood;\r\n      const neighborhoodCounts = areaChartData[year][neighborhood];\r\n      areaChartData[year][neighborhood] = {\r\n        name: neighborhood,\r\n        counts: newCounts.map((v, i) => {\r\n          return {\r\n            index: i,\r\n            value:\r\n              (neighborhoodCounts ? neighborhoodCounts.counts[i].value : 0) + v,\r\n          };\r\n        }),\r\n      };\r\n    });\r\n\r\n    const totalCounters = Object.keys(yearData).length;\r\n\r\n    areaChartData[year]['Average'] = {\r\n      name: 'All',\r\n      counts: averageTimeCounts.map((counts, i) => {\r\n        return { index: i, value: Math.round(counts / totalCounters) };\r\n      }),\r\n    };\r\n  });\r\n\r\n  return areaChartData;\r\n}\r\n\r\n/** Generates data in format for bar chart\r\n *\r\n * @param {object} dataset Dataset created by createDataset\r\n *\r\n * @returns {object} Data for bar chart\r\n */\r\nexport function createBarChartData(dataset) {\r\n  const barChartData = {};\r\n\r\n  Object.entries(dataset).forEach(([year, yearData]) => {\r\n    let allCounts = 0;\r\n\r\n    // Sums counts across entire year for each counter\r\n    Object.entries(yearData).forEach(([counter, counterData]) => {\r\n      const counterSum = {\r\n        year: year,\r\n        counts: sum(counterData.counts, 'count'),\r\n      };\r\n\r\n      allCounts += counterSum.counts;\r\n\r\n      barChartData[counter]\r\n        ? barChartData[counter].push(counterSum)\r\n        : (barChartData[counter] = [counterSum]);\r\n\r\n      // Add counts per neighborhood as well\r\n      const neighborhood = counterData.neighborhood;\r\n\r\n      const neighborhoodDataForYear =\r\n        barChartData[neighborhood] &&\r\n        barChartData[neighborhood].find((d) => d.year === year);\r\n\r\n      if (neighborhoodDataForYear) {\r\n        neighborhoodDataForYear.counts *= neighborhoodDataForYear.total;\r\n        neighborhoodDataForYear.counts += counterSum.counts;\r\n        neighborhoodDataForYear.total += 1;\r\n        neighborhoodDataForYear.counts /= neighborhoodDataForYear.total;\r\n      } else {\r\n        const neighborhoodSum = {\r\n          year: year,\r\n          counts: counterSum.counts,\r\n          total: 1,\r\n        };\r\n        barChartData[neighborhood]\r\n          ? barChartData[neighborhood].push(neighborhoodSum)\r\n          : (barChartData[neighborhood] = [neighborhoodSum]);\r\n      }\r\n    });\r\n\r\n    // Adds average of all sensors for year for default view\r\n    const average = {\r\n      year: year,\r\n      counts: Math.round(allCounts / Object.keys(yearData).length),\r\n    };\r\n\r\n    barChartData['Average']\r\n      ? barChartData['Average'].push(average)\r\n      : (barChartData['Average'] = [average]);\r\n  });\r\n\r\n  return barChartData;\r\n}\r\n","/**\r\n * Adds SVG groups for the map base, bike paths and circles\r\n *\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n * @param {*} tooltip Tip to place in graph\r\n */\r\nexport function generateMapGroups(width, height, tooltip) {\r\n  d3.select('#map-svg')\r\n    .call(tooltip)\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .append('g')\r\n    .attr('id', 'map-base-g')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .select(function () {\r\n      return this.parentNode;\r\n    })\r\n    .append('g')\r\n    .attr('id', 'map-lanes-g')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n\r\n    .select(function () {\r\n      return this.parentNode;\r\n    })\r\n    .append('g')\r\n    .attr('id', 'map-circles-g')\r\n    .attr('width', width)\r\n    .attr('height', height);\r\n}\r\n\r\n/**\r\n * Generates the color scale for the map\r\n * @param {object[]} data The data used for the map\r\n * @returns {*} The generated color scale\r\n */\r\nfunction generateColorScale(data) {\r\n  const maxCounts = d3.max(data.map((d) => d.averageCounts));\r\n  return d3\r\n    .scaleLinear()\r\n    .domain([0, maxCounts + 100000]) // + 100000 used for mouseover animation\r\n    .range(['rgba(0,0,0,0)', '#063fc4']);\r\n}\r\n\r\n/**\r\n * Draws the map base of Montreal.\r\n *\r\n * @param {object[]} data The data for the map base\r\n * @param {*} path The path associated with the current projection\r\n */\r\nexport function drawMapBackground(mapData, cycleData, path, callback, tip) {\r\n  const mapBase = d3.select('#map-base-g');\r\n  const colorScale = generateColorScale(mapData);\r\n\r\n  mapBase.selectAll('path').remove();\r\n\r\n  mapBase\r\n    .selectAll('path')\r\n    .data(mapData)\r\n    .enter()\r\n    .append('path')\r\n    .attr('d', path)\r\n    .attr('fill', (d) => colorScale(d.averageCounts))\r\n    .attr('stroke', '#ffffff')\r\n    .attr('stroke-width', 1)\r\n    .on('click', callback)\r\n    .on('mouseover', function () {\r\n      d3.select(this)\r\n        .each(tip.show)\r\n        .transition(1000)\r\n        .ease(d3.easeCubicInOut)\r\n        .attr('fill', (d) => colorScale(d.averageCounts + 100000))\r\n        .attr('stroke-width', 3);\r\n    })\r\n    .on('mouseout', function () {\r\n      d3.select(this)\r\n        .each(tip.hide)\r\n        .transition(1000)\r\n        .ease(d3.easeCubicInOut)\r\n        .attr('fill', (d) => colorScale(d.averageCounts))\r\n\r\n        .attr('stroke-width', 1);\r\n    });\r\n\r\n  drawBikePaths(cycleData, path);\r\n}\r\n\r\n/**\r\n * Draws the cycle lanes of Montreal\r\n *\r\n * @param {object[]} data The data for the cycle lanes\r\n * @param {*} path The path associated with the current projection\r\n */\r\nfunction drawBikePaths(data, path) {\r\n  d3.select('#map-lanes-g')\r\n    .selectAll('path')\r\n    .data(data)\r\n    .enter()\r\n    .append('path')\r\n    .attr('d', path)\r\n    .attr('fill', 'rgba(0,0,0,0)')\r\n    .attr('stroke', '#1ac96c')\r\n    .attr('stroke-width', 1)\r\n    .attr('pointer-events', 'none');\r\n}\r\n\r\nfunction generateRadiusScale(data) {\r\n  const maxCounts = d3.max(data.map((data) => data.counts));\r\n  return d3.scaleLinear().domain([0, maxCounts]).range([3, 9]);\r\n}\r\n\r\nfunction mouseout(scale, tip) {\r\n  d3.select('#map-circles-g')\r\n    .selectAll('circle')\r\n    .filter(function () {\r\n      return !d3.select(this).attr('clicked');\r\n    })\r\n    .each(tip.hide)\r\n    .transition(500)\r\n    .ease(d3.easeCubicInOut)\r\n    .attr('r', (d) => scale(d.counts))\r\n    .attr('stroke-width', 1);\r\n}\r\n\r\n/**\r\n * Draws the counter\r\n *\r\n * @param {object[]} data The data for the map\r\n * @param {*} callback The callback to call on circle click\r\n */\r\nexport function drawCircles(data, callback, tip) {\r\n  const scale = generateRadiusScale(data);\r\n\r\n  d3.select('#map-circles-g').selectAll('circle').remove();\r\n\r\n  d3.select('#map-circles-g')\r\n    .selectAll('circle')\r\n    .data(data)\r\n    .enter()\r\n    .append('circle')\r\n    .attr('class', 'circle')\r\n    .attr('r', (d) => scale(d.counts))\r\n    .attr('cx', (d) => d.x)\r\n    .attr('cy', (d) => d.y)\r\n    .attr('fill', '#f58516')\r\n    .attr('stroke', '#ffffff')\r\n    .attr('stroke-width', 1)\r\n    .on('click', function (d) {\r\n      callback(d);\r\n\r\n      d3.select('#map-circles-g').selectAll('circle').attr('clicked', null);\r\n      d3.select(this).attr('clicked', true);\r\n\r\n      mouseout(scale, tip);\r\n    })\r\n    .on('mouseover', function () {\r\n      d3.select(this)\r\n        .each(tip.show)\r\n\r\n        .transition(500)\r\n        .ease(d3.easeCubicInOut)\r\n        .attr('r', (d) => scale(d.counts) * 1.5)\r\n        .attr('stroke-width', 2);\r\n    })\r\n    .on('mouseout', function () {\r\n      mouseout(scale, tip);\r\n    });\r\n}\r\n","var pointInPolygonFlat = require('./flat.js')\nvar pointInPolygonNested = require('./nested.js')\n\nmodule.exports = function pointInPolygon (point, vs, start, end) {\n    if (vs.length > 0 && Array.isArray(vs[0])) {\n        return pointInPolygonNested(point, vs, start, end);\n    } else {\n        return pointInPolygonFlat(point, vs, start, end);\n    }\n}\nmodule.exports.nested = pointInPolygonNested\nmodule.exports.flat = pointInPolygonFlat\n","// ray-casting algorithm based on\n// https://wrf.ecse.rpi.edu/Research/Short_Notes/pnpoly.html\n\nmodule.exports = function pointInPolygonNested (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = end - start;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[i+start][0], yi = vs[i+start][1];\n        var xj = vs[j+start][0], yj = vs[j+start][1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction identity(x) {\n  return x;\n}\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Convert negative to positive, and compute the prefix.\n        // Note that -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n        // Perform the initial formatting.\n        value = formatType(value, precision);\n\n        // If the original value was negative, it may be rounded to zero during\n        // formatting; treat this as (positive) zero.\n        if (valueNegative) {\n          i = -1, n = value.length;\n          valueNegative = false;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), (48 < c && c < 58)\n                || (type === \"x\" && 96 < c && c < 103)\n                || (type === \"X\" && 64 < c && c < 71)) {\n              valueNegative = true;\n              break;\n            }\n          }\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": return valuePrefix + value + valueSuffix + padding;\n        case \"=\": return valuePrefix + padding + value + valueSuffix;\n        case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n      }\n      return padding + valuePrefix + value + valueSuffix;\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import range from \"./range\";\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var step = tickStep(start, stop, count);\n  return range(\n    Math.ceil(start / step) * step,\n    Math.floor(stop / step) * step + step / 2, // inclusive\n    step\n  );\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n  }\n\n  return a;\n}\n","export default function(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1;\n\n  if (f == null) {\n    while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n  }\n\n  else {\n    while (++i < n) if (a = +f(array[i], i, array)) s += a;\n  }\n\n  return s;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    var d = domain(),\n        i = d.length - 1,\n        n = count == null ? 10 : count,\n        start = d[0],\n        stop = d[i],\n        step = tickStep(start, stop, n);\n\n    if (step) {\n      step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n      d[0] = Math.floor(start / step) * step;\n      d[i] = Math.ceil(stop / step) * step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import { select } from \"d3-selection\"\nimport { format, formatPrefix } from \"d3-format\"\n\nconst d3_identity = d => d\n\nconst d3_reverse = arr => {\n  const mirror = []\n  for (let i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l - i - 1]\n  }\n  return mirror\n}\n\n//Text wrapping code adapted from Mike Bostock\nconst d3_textWrapping = (text, width) => {\n  text.each(function() {\n    var text = select(this),\n      words = text\n        .text()\n        .split(/\\s+/)\n        .reverse(),\n      word,\n      line = [],\n      lineNumber = 0,\n      lineHeight = 1.2, //ems\n      y = text.attr(\"y\"),\n      dy = parseFloat(text.attr(\"dy\")) || 0,\n      tspan = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"dy\", dy + \"em\")\n\n    while ((word = words.pop())) {\n      line.push(word)\n      tspan.text(line.join(\" \"))\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop()\n        tspan.text(line.join(\" \"))\n        line = [word]\n        tspan = text\n          .append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", lineHeight + dy + \"em\")\n          .text(word)\n      }\n    }\n  })\n}\n\nconst d3_mergeLabels = (gen = [], labels, domain, range, labelDelimiter) => {\n  if (typeof labels === \"object\") {\n    if (labels.length === 0) return gen\n\n    let i = labels.length\n    for (; i < gen.length; i++) {\n      labels.push(gen[i])\n    }\n    return labels\n  } else if (typeof labels === \"function\") {\n    const customLabels = []\n    const genLength = gen.length\n    for (let i = 0; i < genLength; i++) {\n      customLabels.push(\n        labels({\n          i,\n          genLength,\n          generatedLabels: gen,\n          domain,\n          range,\n          labelDelimiter\n        })\n      )\n    }\n    return customLabels\n  }\n\n  return gen\n}\n\nconst d3_linearLegend = (scale, cells, labelFormat) => {\n  let data = []\n\n  if (cells.length > 1) {\n    data = cells\n  } else {\n    const domain = scale.domain(),\n      increment = (domain[domain.length - 1] - domain[0]) / (cells - 1)\n    let i = 0\n\n    for (; i < cells; i++) {\n      data.push(domain[0] + i * increment)\n    }\n  }\n\n  const labels = data.map(labelFormat)\n  return {\n    data: data,\n    labels: labels,\n    feature: d => scale(d)\n  }\n}\n\nconst d3_quantLegend = (scale, labelFormat, labelDelimiter) => {\n  const labels = scale.range().map(d => {\n    const invert = scale.invertExtent(d)\n    return (\n      labelFormat(invert[0]) +\n      \" \" +\n      labelDelimiter +\n      \" \" +\n      labelFormat(invert[1])\n    )\n  })\n\n  return {\n    data: scale.range(),\n    labels: labels,\n    feature: d3_identity\n  }\n}\n\nconst d3_ordinalLegend = scale => ({\n  data: scale.domain(),\n  labels: scale.domain(),\n  feature: d => scale(d)\n})\n\nconst d3_cellOver = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellover\", obj, d)\n}\n\nconst d3_cellOut = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellout\", obj, d)\n}\n\nconst d3_cellClick = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellclick\", obj, d)\n}\n\nexport default {\n  d3_drawShapes: (\n    shape,\n    shapes,\n    shapeHeight,\n    shapeWidth,\n    shapeRadius,\n    path\n  ) => {\n    if (shape === \"rect\") {\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth)\n    } else if (shape === \"circle\") {\n      shapes.attr(\"r\", shapeRadius)\n    } else if (shape === \"line\") {\n      shapes\n        .attr(\"x1\", 0)\n        .attr(\"x2\", shapeWidth)\n        .attr(\"y1\", 0)\n        .attr(\"y2\", 0)\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path)\n    }\n  },\n\n  d3_addText: function(svg, enter, labels, classPrefix, labelWidth) {\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\")\n    const text = svg\n      .selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n      .data(labels)\n      .text(d3_identity)\n\n    if (labelWidth) {\n      svg\n        .selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n        .call(d3_textWrapping, labelWidth)\n    }\n\n    return text\n  },\n\n  d3_calcType: function(\n    scale,\n    ascending,\n    cells,\n    labels,\n    labelFormat,\n    labelDelimiter\n  ) {\n    const type = scale.invertExtent\n      ? d3_quantLegend(scale, labelFormat, labelDelimiter)\n      : scale.ticks\n        ? d3_linearLegend(scale, cells, labelFormat)\n        : d3_ordinalLegend(scale)\n\n    //for d3.scaleSequential that doesn't have a range function\n    const range = (scale.range && scale.range()) || scale.domain()\n    type.labels = d3_mergeLabels(\n      type.labels,\n      labels,\n      scale.domain(),\n      range,\n      labelDelimiter\n    )\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels)\n      type.data = d3_reverse(type.data)\n    }\n\n    return type\n  },\n\n  d3_filterCells: (type, cellFilter) => {\n    let filterCells = type.data\n      .map((d, i) => ({ data: d, label: type.labels[i] }))\n      .filter(cellFilter)\n    const dataValues = filterCells.map(d => d.data)\n    const labelValues = filterCells.map(d => d.label)\n    type.data = type.data.filter(d => dataValues.indexOf(d) !== -1)\n    type.labels = type.labels.filter(d => labelValues.indexOf(d) !== -1)\n    return type\n  },\n\n  d3_placement: (orient, cell, cellTrans, text, textTrans, labelAlign) => {\n    cell.attr(\"transform\", cellTrans)\n    text.attr(\"transform\", textTrans)\n    if (orient === \"horizontal\") {\n      text.style(\"text-anchor\", labelAlign)\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher) {\n    cells\n      .on(\"mouseover.legend\", function(d) {\n        d3_cellOver(dispatcher, d, this)\n      })\n      .on(\"mouseout.legend\", function(d) {\n        d3_cellOut(dispatcher, d, this)\n      })\n      .on(\"click.legend\", function(d) {\n        d3_cellClick(dispatcher, d, this)\n      })\n  },\n\n  d3_title: (svg, title, classPrefix, titleWidth) => {\n    if (title !== \"\") {\n      const titleText = svg.selectAll(\"text.\" + classPrefix + \"legendTitle\")\n\n      titleText\n        .data([title])\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", classPrefix + \"legendTitle\")\n\n      svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").text(title)\n\n      if (titleWidth) {\n        svg\n          .selectAll(\"text.\" + classPrefix + \"legendTitle\")\n          .call(d3_textWrapping, titleWidth)\n      }\n\n      const cellsSvg = svg.select(\".\" + classPrefix + \"legendCells\")\n      const yOffset = svg\n          .select(\".\" + classPrefix + \"legendTitle\")\n          .nodes()\n          .map(d => d.getBBox().height)[0],\n        xOffset = -cellsSvg.nodes().map(function(d) {\n          return d.getBBox().x\n        })[0]\n      cellsSvg.attr(\"transform\", \"translate(\" + xOffset + \",\" + yOffset + \")\")\n    }\n  },\n\n  d3_defaultLocale: {\n    format,\n    formatPrefix\n  },\n\n  d3_defaultFormatSpecifier: \".01f\",\n\n  d3_defaultDelimiter: \"to\"\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export const thresholdLabels = function({\n  i,\n  genLength,\n  generatedLabels,\n  labelDelimiter\n}) {\n  if (i === 0) {\n    const values = generatedLabels[i].split(` ${labelDelimiter} `)\n    return `Less than ${values[1]}`\n  } else if (i === genLength - 1) {\n    const values = generatedLabels[i].split(` ${labelDelimiter} `)\n    return `${values[0]} or more`\n  }\n  return generatedLabels[i]\n}\n\nexport default {\n  thresholdLabels\n}\n","import legendColor from './src/color'\nimport legendSize from './src/size'\nimport legendSymbol from './src/symbol'\nimport legendHelpers from './src/helpers'\n\nexport { legendColor, legendSize, legendSymbol, legendHelpers }\n\nexport default {\n  legendColor,\n  legendSize,\n  legendSymbol,\n  legendHelpers\n};\n","import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\n\nimport { sum } from \"d3-array\"\n\nexport default function color() {\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg\n      .selectAll(\n        \"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\"\n      )\n      .data(type.data)\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n\n    shapes = shapes.merge(shapes)\n\n    helper.d3_drawShapes(\n      shape,\n      shapes,\n      shapeHeight,\n      shapeWidth,\n      shapeRadius,\n      path\n    )\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    // sets placement\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map(d => d.getBBox())\n    //sets scale\n    //everything is fill except for line which is stroke,\n    if (!useClass) {\n      if (shape == \"line\") {\n        shapes.style(\"stroke\", type.feature)\n      } else {\n        shapes.style(\"fill\", type.feature)\n      }\n    } else {\n      shapes.attr(\"class\", d => `${classPrefix}swatch ${type.feature(d)}`)\n    }\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) =>\n        Math.max(d.height, shapeSize[i].height)\n      )\n\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n        return `translate(0, ${height + i * shapePadding})`\n      }\n\n      textTrans = (d, i) =>\n        `translate( ${shapeSize[i].width +\n          shapeSize[i].x +\n          labelOffset}, ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) =>\n        `translate(${i * (shapeSize[i].width + shapePadding)},0)`\n      textTrans = (d, i) => `translate(${shapeSize[i].width * textAlign +\n        shapeSize[i].x},\n          ${shapeSize[i].height + shapeSize[i].y + labelOffset + 8})`\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape\n    if (\n      _ == \"rect\" ||\n      _ == \"circle\" ||\n      _ == \"line\" ||\n      (_ == \"path\" && typeof d === \"string\")\n    ) {\n      shape = _\n      path = d\n    }\n    return legend\n  }\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth\n    shapeWidth = +_\n    return legend\n  }\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight\n    shapeHeight = +_\n    return legend\n  }\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius\n    shapeRadius = +_\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass\n    if (_ === true || _ === false) {\n      useClass = _\n    }\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.textWrap = function(_) {\n    if (!arguments.length) return textWrap\n    textWrap = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n","import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\nimport { sum, max } from \"d3-array\"\n\nexport default function size() {\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg.selectAll(\n      \"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\"\n    )\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes = shapes.merge(shapes)\n\n    //creates shape\n    if (shape === \"line\") {\n      helper.d3_drawShapes(shape, shapes, 0, shapeWidth)\n      shapes.attr(\"stroke-width\", type.feature)\n    } else {\n      helper.d3_drawShapes(\n        shape,\n        shapes,\n        type.feature,\n        type.feature,\n        type.feature,\n        path\n      )\n    }\n\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    //sets placement\n\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map((d, i) => {\n        const bbox = d.getBBox()\n        const stroke = scale(type.data[i])\n\n        if (shape === \"line\" && orient === \"horizontal\") {\n          bbox.height = bbox.height + stroke\n        } else if (shape === \"line\" && orient === \"vertical\") {\n          bbox.width = bbox.width\n        }\n        return bbox\n      })\n\n    const maxH = max(shapeSize, d => d.height + d.y),\n      maxW = max(shapeSize, d => d.width + d.x)\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) =>\n        Math.max(d.height, shapeSize[i].height)\n      )\n      const y =\n        shape == \"circle\" || shape == \"line\" ? shapeSize[0].height / 2 : 0\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n\n        return `translate(0, ${y + height + i * shapePadding})`\n      }\n\n      textTrans = (d, i) => `translate( ${maxW + labelOffset},\n          ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) => {\n        const width = sum(shapeSize.slice(0, i), d => d.width)\n        const y = shape == \"circle\" || shape == \"line\" ? maxH / 2 : 0\n        return `translate(${width + i * shapePadding}, ${y})`\n      }\n\n      const offset = shape == \"line\" ? maxH / 2 : maxH\n      textTrans = (d, i) => {\n        return `translate( ${shapeSize[i].width * textAlign + shapeSize[i].x},\n              ${offset + labelOffset})`\n      }\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\") {\n      shape = _\n      path = d\n    }\n    return legend\n  }\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth\n    shapeWidth = +_\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n","import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\nimport { sum, max } from \"d3-array\"\n\nexport default function symbol() {\n  let scale = scaleLinear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\")\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    //remove old shapes\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes = shapes.merge(shapes)\n\n    helper.d3_drawShapes(\n      shape,\n      shapes,\n      shapeHeight,\n      shapeWidth,\n      shapeRadius,\n      type.feature\n    )\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    // sets placement\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map(d => d.getBBox())\n\n    const maxH = max(shapeSize, d => d.height),\n      maxW = max(shapeSize, d => d.width)\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) => Math.max(maxH, d.height))\n\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n        return `translate(0, ${height + i * shapePadding} )`\n      }\n      textTrans = (d, i) => `translate( ${maxW + labelOffset},\n              ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) => `translate( ${i * (maxW + shapePadding)},0)`\n      textTrans = (d, i) => `translate( ${shapeSize[i].width * textAlign +\n        shapeSize[i].x},\n              ${maxH + labelOffset})`\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n","import d3Legend from 'd3-svg-legend';\r\n\r\nexport function setupLineGroup(width, height) {\r\n  d3.select('#map-svg')\r\n    .append('g')\r\n    .attr('id', 'line-svg')\r\n    .attr('width', width + 80)\r\n    .attr('height', height + 80);\r\n}\r\n\r\nfunction addLabels(g, width, height) {\r\n  // X label\r\n  g.append('g')\r\n    .append('text')\r\n    .attr('class', 'axis-label')\r\n    .text(\"Mois de l'année\")\r\n    .attr('x', width / 2 + 30)\r\n    .attr('y', height);\r\n  // Y label\r\n  g.append('g')\r\n    .append('text')\r\n    .attr('class', 'axis-label')\r\n    .text('Comptes')\r\n    .attr('x', 10)\r\n    .attr('y', height / 2)\r\n    .attr('transform', 'rotate(-90)');\r\n}\r\n\r\nfunction generateXScale(width, days) {\r\n  return d3.scaleLinear().domain([0, days]).range([0, width]);\r\n}\r\n\r\nfunction generateYScale(height, counts) {\r\n  return d3\r\n    .scaleLinear()\r\n    .domain([0, d3.max(counts)])\r\n    .range([height, 0])\r\n    .nice();\r\n}\r\n\r\nfunction generateColorScale(counterData, isNeighborhood) {\r\n  return d3\r\n    .scaleOrdinal()\r\n    .domain(\r\n      counterData\r\n        ? ['Moyenne du réseau', counterData.name]\r\n        : ['Moyenne du réseau'],\r\n    )\r\n    .range(\r\n      counterData\r\n        ? ['#9a9a9a', isNeighborhood ? '#507bde' : '#f59e47']\r\n        : ['#9a9a9a'],\r\n    );\r\n}\r\n\r\nfunction addAxes(g, width, height, yScale) {\r\n  // Create X axis with 24 hr time\r\n  const xAxis = d3\r\n    .axisBottom(\r\n      d3\r\n        .scaleTime()\r\n        .domain([new Date(2000, 1, 0), new Date(2000, 12, 1)])\r\n        .range([0, width])\r\n        .nice(),\r\n    )\r\n    .ticks(12)\r\n    .tickFormat(d3.timeFormat('%b'));\r\n\r\n  // Add axes, pixel-perfect positioning\r\n  g.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('transform', 'translate(59,' + height + ')')\r\n    .call(xAxis);\r\n  g.attr('class', 'axis')\r\n    .append('g')\r\n    .attr('transform', 'translate(59,0)')\r\n    .call(d3.axisLeft(yScale));\r\n}\r\n\r\n/**\r\n * Draws the line chart\r\n *\r\n * @param {object[]} data The data for the map\r\n * @param callback The callback to call on circle click\r\n */\r\nexport function drawLineChart(\r\n  width,\r\n  height,\r\n  averageData,\r\n  counterData,\r\n  isNeighborhood,\r\n) {\r\n  const svg = d3.select('#line-svg');\r\n\r\n  // Reset line chart svg\r\n  svg.selectAll('g').remove();\r\n\r\n  // Add labels\r\n  addLabels(\r\n    svg,\r\n    width + 80,\r\n    height + 70,\r\n    counterData && counterData.name,\r\n    counterData && counterData.neighborhood,\r\n  );\r\n\r\n  const outerG = svg\r\n    .append('g')\r\n    .attr('width', width + 30)\r\n    .attr('height', height + 20)\r\n    .attr('transform', 'translate(10, 30)');\r\n\r\n  // Generate scales\r\n  const xScale = generateXScale(width, averageData.counts.length);\r\n  const yScale = generateYScale(height, [\r\n    ...averageData.counts.map((v) => v.value),\r\n    ...(counterData ? counterData.counts.map((v) => v.value) : []),\r\n  ]);\r\n\r\n  // Add axes\r\n  addAxes(outerG, width, height, yScale);\r\n\r\n  // Draw the legend\r\n  const colorScale = generateColorScale(counterData, isNeighborhood);\r\n  const legend = d3Legend.legendColor().scale(colorScale).shape('rect');\r\n  outerG.append('g').attr('transform', 'translate(460, 30)').call(legend);\r\n\r\n  const innerG = outerG\r\n    .append('g')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .attr('transform', 'translate(60, 0)');\r\n\r\n  // Draw chart\r\n  innerG\r\n    .append('path')\r\n    .datum(averageData.counts)\r\n    .attr('fill', 'rgba(0, 0, 0, 0)')\r\n    .attr('stroke', '#9a9a9a')\r\n    .attr('stroke-width', 1)\r\n    .attr(\r\n      'd',\r\n      d3\r\n        .line()\r\n        .x(function (d) {\r\n          return xScale(d.index);\r\n        })\r\n        .y(function (d) {\r\n          return yScale(d.value);\r\n        }),\r\n    );\r\n\r\n  if (counterData) {\r\n    innerG\r\n      .append('path')\r\n      .datum(counterData.counts)\r\n      .attr('fill', 'rgba(0, 0, 0, 0)')\r\n      .attr('stroke', isNeighborhood ? '#507bde' : '#f59e47')\r\n      .attr('stroke-width', 1)\r\n      .attr(\r\n        'd',\r\n        d3\r\n          .line()\r\n          .x(function (d) {\r\n            return xScale(d.index);\r\n          })\r\n          .y(function (d) {\r\n            return yScale(d.value);\r\n          }),\r\n      );\r\n  }\r\n}\r\n","import d3Legend from 'd3-svg-legend';\r\n\r\n/**\r\n * Sets up the space where the area chart will be drawn\r\n * @param {number} width The width of the graph\r\n * @param {number} height The heigh of the graph\r\n */\r\nexport function setupAreaSVG(width, height) {\r\n  const svg = d3\r\n    .select('#area-svg')\r\n    .attr('width', width + 80)\r\n    .attr('height', height + 80);\r\n\r\n  addTitle(svg, width);\r\n}\r\n\r\n/**\r\n * Adds a title to the area chart\r\n * @param {*} g The d3 selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n */\r\nfunction addTitle(g, width) {\r\n  g.append('text')\r\n    .attr('class', 'graph-title')\r\n    .attr('x', width / 2 + 30)\r\n    .attr('y', 15)\r\n    .text('Comptes pendant la journée');\r\n}\r\n\r\n/**\r\n * Adds the labels to the X and Y axes\r\n * @param {*} g The d3 selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n */\r\nfunction addLabels(g, width, height) {\r\n  // X label\r\n  g.append('g')\r\n    .append('text')\r\n    .attr('class', 'axis-label')\r\n    .text('Heures de la journée')\r\n    .attr('x', width / 2 + 30)\r\n    .attr('y', height);\r\n  // Y label\r\n  g.append('g')\r\n    .append('text')\r\n    .attr('class', 'axis-label')\r\n    .text('Comptes')\r\n    .attr('x', 10)\r\n    .attr('y', height / 2)\r\n    .attr('transform', 'rotate(-90)');\r\n}\r\n\r\n/**\r\n * Generates the X scale of the area chart based on the hours of the day\r\n * @param {number} width The width of the graph\r\n * @returns {*} The generated X scale\r\n */\r\nfunction generateXScale(width) {\r\n  return d3.scaleLinear().domain([0, 96]).range([0, width]);\r\n}\r\n\r\n/**\r\n * Generated the Y scale of the area chart based on the maximum value\r\n * @param {number} height The height of the graph\r\n * @param {number[]} counts List of counts for the hours of the day\r\n * @returns\r\n */\r\nfunction generateYScale(height, counts) {\r\n  return d3\r\n    .scaleLinear()\r\n    .domain([0, d3.max(counts)])\r\n    .range([height, 0])\r\n    .nice();\r\n}\r\n\r\n/**\r\n * Generates a color scale to differenciate the average from the specific counter\r\n * @param {object[]} counterData The data of the selected counter\r\n * @returns {*} The generated color scale\r\n */\r\nfunction generateColorScale(counterData, isNeighborhood) {\r\n  return d3\r\n    .scaleOrdinal()\r\n    .domain(\r\n      counterData\r\n        ? ['Moyenne du réseau', counterData.name]\r\n        : ['Moyenne du réseau'],\r\n    )\r\n    .range(\r\n      counterData\r\n        ? ['#9a9a9a', isNeighborhood ? '#507bde' : '#f59e47']\r\n        : ['#9a9a9a'],\r\n    );\r\n}\r\n\r\n/**\r\n * Adds the axes to the graph\r\n * @param {*} g The d3 selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n * @param {*} yScale The Y scale to be used for the graph\r\n */\r\nfunction addAxes(g, width, height, yScale) {\r\n  // Create X axis with 24 hr time\r\n  const xAxis = d3\r\n    .axisBottom(\r\n      d3\r\n        .scaleTime()\r\n        .range([0, width - 7])\r\n        .nice(),\r\n    )\r\n    .ticks(20)\r\n    .tickFormat(d3.timeFormat('%H:%M'));\r\n\r\n  g.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('transform', 'translate(59,' + height + ')')\r\n    .call(xAxis);\r\n  g.attr('class', 'axis')\r\n    .append('g')\r\n    .attr('transform', 'translate(59,0)')\r\n    .call(d3.axisLeft(yScale));\r\n}\r\n\r\n/**\r\n * Draws the area chart\r\n *\r\n * @param {object[]} data The data for the area chart\r\n * @param {*} callback The callback to call on circle click\r\n */\r\nexport function drawAreaChart(\r\n  width,\r\n  height,\r\n  averageData,\r\n  counterData,\r\n  isNeighborhood,\r\n) {\r\n  const svg = d3.select('#area-svg').attr('height', height + 80);\r\n\r\n  // Reset area chart svg\r\n  svg.selectAll('g').remove();\r\n\r\n  // Add labels\r\n  addLabels(svg, width + 80, height + 70, counterData && counterData.name);\r\n\r\n  const outerG = svg\r\n    .append('g')\r\n    .attr('width', width + 30)\r\n    .attr('height', height + 20)\r\n    .attr('transform', 'translate(10, 30)');\r\n\r\n  // Generate scales\r\n  const xScale = generateXScale(width);\r\n  const yScale = generateYScale(height, [\r\n    ...averageData.counts.map((v) => v.value),\r\n    ...(counterData ? counterData.counts.map((v) => v.value) : []),\r\n  ]);\r\n\r\n  // Add axes\r\n  addAxes(outerG, width, height, yScale);\r\n\r\n  // Draw the legend\r\n  const colorScale = generateColorScale(counterData, isNeighborhood);\r\n  const legend = d3Legend.legendColor().scale(colorScale).shape('rect');\r\n  outerG.append('g').attr('transform', 'translate(640, -30)').call(legend);\r\n\r\n  const innerG = outerG\r\n    .append('g')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .attr('transform', 'translate(60, 0)');\r\n\r\n  // Draw chart\r\n  innerG\r\n    .append('path')\r\n    .datum(averageData.counts)\r\n    .attr('fill', '#c9c9c9')\r\n    .attr('stroke', '#9a9a9a')\r\n    .attr('stroke-width', 1)\r\n    .attr(\r\n      'd',\r\n      d3\r\n        .area()\r\n        .x(function (d) {\r\n          return xScale(d.index);\r\n        })\r\n        .y0(height)\r\n        .y1(function (d) {\r\n          return yScale(d.value);\r\n        }),\r\n    );\r\n\r\n  if (counterData) {\r\n    innerG\r\n      .append('path')\r\n      .datum(counterData.counts)\r\n      .attr(\r\n        'fill',\r\n        isNeighborhood ? 'rgba(80, 123, 222, 0.3)' : 'rgba(247, 173, 99, 0.3)',\r\n      )\r\n      .attr('stroke', isNeighborhood ? '#265bd4' : '#f58516')\r\n      .attr('stroke-width', 1)\r\n      .attr(\r\n        'd',\r\n        d3\r\n          .area()\r\n          .x(function (d) {\r\n            return xScale(d.index);\r\n          })\r\n          .y0(height)\r\n          .y1(function (d) {\r\n            return yScale(d.value);\r\n          }),\r\n      );\r\n  }\r\n}\r\n\r\nexport function hideAreaChart(width) {\r\n  const svg = d3.select('#area-svg').attr('height', 130);\r\n\r\n  svg.selectAll('g').remove();\r\n\r\n  svg\r\n    .append('g')\r\n    .append('text')\r\n    .attr('class', 'empty-label')\r\n    .text(\"Cette donnée n'est pas disponible pour l'année choisie.\")\r\n    .attr('x', width / 2 + 30)\r\n    .attr('y', 80);\r\n}\r\n","import d3Legend from 'd3-svg-legend';\r\n\r\n/**\r\n * Adds a title to the bar chart\r\n * @param {*} g The d3 selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n */\r\nfunction addTitle(g, width) {\r\n  g.append('text')\r\n    .attr('class', 'graph-title')\r\n    .attr('x', width / 2 + 30)\r\n    .attr('y', 15)\r\n    .text(\"Comptes avant et après l'introduction de Bixis électriques\");\r\n}\r\n\r\n/**\r\n * Adds the labels of the X and Y axes\r\n * @param {*} g The d3 selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n */\r\nfunction addLabels(g, width, height) {\r\n  // X label\r\n  g.append('g')\r\n    .append('text')\r\n    .attr('class', 'axis-label')\r\n    .text('Années')\r\n    .attr('x', width / 2 + 30)\r\n    .attr('y', height);\r\n  // Y label\r\n  g.append('g')\r\n    .append('text')\r\n    .attr('class', 'axis-label')\r\n    .text('Comptes')\r\n    .attr('x', 10)\r\n    .attr('y', height / 2)\r\n    .attr('transform', 'rotate(-90)');\r\n}\r\n/**\r\n * Generates the X scale of the chart based on the list of years\r\n * @param {number} width The width of the grpah\r\n * @param {number[]} years The list of all possible years\r\n * @returns {*} The generated X scale\r\n */\r\nfunction generateXScale(width, years) {\r\n  return d3.scaleBand().padding(0.2).domain(years).range([0, width]);\r\n}\r\n\r\n/**\r\n * Generates the subscales of X to form groups in the bar chart\r\n * @param {*} xScale The graph's scale containing the subscales\r\n * @returns {*} The sectionned X scale\r\n */\r\nfunction generateXSubScale(xScale) {\r\n  return d3\r\n    .scaleBand()\r\n    .padding(0.02)\r\n    .domain(['Average', 'Counter'])\r\n    .range([0, xScale.bandwidth()]);\r\n}\r\n\r\n/**\r\n * Generates the Y scale of the chart based on the max value of the dataset\r\n * @param {number} height\r\n * @returns {*} The generated Y scale\r\n */\r\nfunction generateYScale(height) {\r\n  return d3\r\n    .scaleLinear()\r\n    .domain([0, 1600000]) // Highest value observed in entire dataset\r\n    .range([height, 0])\r\n    .nice();\r\n}\r\n\r\n/**\r\n * Creates a color scale to identify the different bars\r\n * @param {object} counterData Current data for orange part of chart\r\n * @returns {*} The colors for all four possible type of bars\r\n */\r\nfunction generateColorScale(counterData, isNeighborhood) {\r\n  const averageDomain = ['Moyenne avant BIXI', 'Moyenne après BIXI'];\r\n  const averageRange = ['#c9c9c9', '#9a9a9a'];\r\n  return d3\r\n    .scaleOrdinal()\r\n    .domain(\r\n      counterData === undefined\r\n        ? averageDomain\r\n        : isNeighborhood\r\n        ? [...averageDomain, 'Quartier avant BIXI', 'Quartier après BIXI']\r\n        : [...averageDomain, 'Borne avant BIXI', 'Borne après BIXI'],\r\n    )\r\n    .range(\r\n      counterData === undefined\r\n        ? averageRange\r\n        : [\r\n            '#c9c9c9',\r\n            '#9a9a9a',\r\n            isNeighborhood ? '#6d91e3' : '#f0ab67',\r\n            isNeighborhood ? '#265bd4' : '#f58516',\r\n          ],\r\n    );\r\n}\r\n\r\n/**\r\n * Adds the axes to the graph\r\n * @param {*} g The d3 selection of the graph's g SVG element\r\n * @param {number} height The height of the graph\r\n * @param {*} xScale The X scale to be used for the graph\r\n * @param {*} yScale The Y scale to be used for the graph\r\n */\r\nfunction addAxes(g, height, xScale, yScale) {\r\n  g.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('transform', 'translate(59,' + height + ')')\r\n    .call(d3.axisBottom(xScale));\r\n  g.attr('class', 'axis')\r\n    .append('g')\r\n    .attr('transform', 'translate(59,0)')\r\n    .call(d3.axisLeft(yScale));\r\n}\r\n\r\n/**\r\n * Sets up the space where the bar chart will be drawn\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n */\r\nexport function setupBarSVG(width, height) {\r\n  const svg = d3\r\n    .select('#bar-svg')\r\n    .attr('width', width + 80)\r\n    .attr('height', height + 80);\r\n\r\n  addTitle(svg, width);\r\n}\r\n\r\n/**\r\n * Draws the bar chart in the designated space\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n * @param {number} bixiYear The year of implementation of electrical Bixis\r\n * @param {object[]} averageData The data averaged on all counters\r\n * @param {object[]} counterData The data of the selected counter\r\n * @param {boolean} isNeighborhood Is the counter actually a neighborhood\r\n */\r\nexport function drawBarChart(\r\n  width,\r\n  height,\r\n  bixiYear,\r\n  averageData,\r\n  counterData,\r\n  isNeighborhood,\r\n) {\r\n  const svg = d3.select('#bar-svg');\r\n\r\n  // Reset bar chart svg\r\n  svg.selectAll('g').remove();\r\n\r\n  // Add labels\r\n  addLabels(svg, width + 80, height + 70, counterData && counterData.name);\r\n\r\n  const outerG = svg\r\n    .append('g')\r\n    .attr('width', width + 30)\r\n    .attr('height', height + 20)\r\n    .attr('transform', 'translate(10, 30)');\r\n\r\n  // Generate scales\r\n  const xScale = generateXScale(\r\n    width,\r\n    averageData.map((d) => d.year),\r\n  );\r\n  const xSubScale = generateXSubScale(xScale);\r\n  const yScale = generateYScale(height, [\r\n    ...averageData.map((v) => v.counts),\r\n    ...(counterData ? counterData.map((v) => v.counts) : []),\r\n  ]);\r\n\r\n  const colorScale = generateColorScale(counterData, isNeighborhood);\r\n\r\n  // Add axes\r\n  addAxes(outerG, height, xScale, yScale);\r\n\r\n  // Draw the legend\r\n  const legend = d3Legend.legendColor().scale(colorScale).shape('rect');\r\n\r\n  outerG.append('g').attr('transform', 'translate(740, -30)').call(legend);\r\n\r\n  const innerG = outerG\r\n    .append('g')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n    .attr('transform', 'translate(60, 0)');\r\n\r\n  // Draw chart\r\n  innerG\r\n    .append('g')\r\n    .attr('id', 'average-bars')\r\n    .selectAll('rect')\r\n    .data(averageData)\r\n    .enter()\r\n    .append('rect')\r\n    .attr('fill', (d) =>\r\n      d.year < bixiYear\r\n        ? colorScale('Moyenne avant BIXI')\r\n        : colorScale('Moyenne après BIXI'),\r\n    )\r\n    .attr('x', (d) => xScale(d.year) + xSubScale('Average'))\r\n    .attr('y', (d) => yScale(d.counts))\r\n    .attr('width', xSubScale.bandwidth())\r\n    .attr('height', (d) => height - yScale(d.counts));\r\n\r\n  if (counterData) {\r\n    innerG\r\n      .append('g')\r\n      .attr('id', 'counter-bars')\r\n      .selectAll('rect')\r\n      .data(counterData)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('fill', (d) =>\r\n        d.year < bixiYear\r\n          ? colorScale(\r\n              isNeighborhood ? 'Quartier avant BIXI' : 'Borne avant BIXI',\r\n            )\r\n          : colorScale(\r\n              isNeighborhood ? 'Quartier après BIXI' : 'Borne après BIXI',\r\n            ),\r\n      )\r\n      .attr('x', (d) => xScale(d.year) + xSubScale('Counter'))\r\n      .attr('y', (d) => yScale(d.counts))\r\n      .attr('width', xSubScale.bandwidth())\r\n      .attr('height', (d) => height - yScale(d.counts));\r\n  }\r\n}\r\n","/**\r\n * Draws the dropdown menu to select the desired year\r\n *\r\n * @param {number[]} years The years to display\r\n * @param {number} width The width of the graph, used to place the button\r\n *\r\n * @returns {number} Initial year in dropdown\r\n */\r\nexport function drawDropdown(years) {\r\n  d3.select('#dropdown')\r\n    .selectAll('myOptions')\r\n    .data(years)\r\n    .enter()\r\n    .append('option')\r\n    .text(function (d) {\r\n      return d;\r\n    })\r\n    .attr('value', function (d) {\r\n      return d;\r\n    });\r\n\r\n  return years[0];\r\n}\r\n","/** Appends a callback to redraw graphs to the year dropdown\r\n *\r\n * @param {*} callback Redraw function to call on click\r\n */\r\nexport function dropDownClickHandler(callback) {\r\n  d3.select('#dropdown').on('change', () => {\r\n    const year = d3.select('#dropdown').property('value');\r\n    callback(year);\r\n  });\r\n}\r\n\r\n/** To be passed to circles to redraw charts on circle click\r\n *\r\n * @param {*} callback Callback to call on click\r\n */\r\nexport function circleClickHandler(callback) {\r\n  return (d) => {\r\n    const year = d3.select('#dropdown').property('value');\r\n    const name = d.name;\r\n    const neighborhood = d.neighborhood;\r\n    callback(year, name, neighborhood);\r\n  };\r\n}\r\n\r\nexport function setSubtitle(counter, neighborhood) {\r\n  d3.select('#counter-name').text(counter);\r\n  d3.select('#neighborhood').text(neighborhood);\r\n}\r\n","/** Change D3 locale, used in time labels */\r\nexport async function changeLocale() {\r\n  const locale = await d3.json(\r\n    'https://cdn.jsdelivr.net/npm/d3-time-format@3/locale/fr-CA.json',\r\n  );\r\n  locale.shortMonths = locale.shortMonths.map(\r\n    (month) => month.slice(0, 1).toUpperCase() + month.slice(1),\r\n  );\r\n  locale.months = locale.months.map(\r\n    (month) => month.slice(0, 1).toUpperCase() + month.slice(1),\r\n  );\r\n\r\n  d3.timeFormatDefaultLocale(locale);\r\n}\r\n","export function renderTooltip(d) {\r\n  // Counter\r\n  if (d.counts) {\r\n    const counts = Math.round(d.counts / 1000) * 1000;\r\n    return `<div class=\"tooltip counter-tooltip\">\r\n        <p class=\"tooltip-value\"><b>Nom du compteur :</b> ${d.name}</p>\r\n        <p class=\"tooltip-value\"><b>Quartier :</b> ${d.neighborhood}</p>\r\n        <p class=\"tooltip-value\"><b>Comptes :</b> ${counts}</p>\r\n        </div>`;\r\n  } else {\r\n    const counts = Math.round(d.averageCounts / 1000) * 1000;\r\n    return `<div class=\"tooltip neighborhood-tooltip\">\r\n        <p class=\"tooltip-value\"><b>Quartier :</b> ${d.name}</p>\r\n        ${\r\n          counts > 0\r\n            ? `<p class=\"tooltip-value\"><b>Moyenne par compteur :</b> ${counts}</p>`\r\n            : ''\r\n        }\r\n        </div>`;\r\n  }\r\n}\r\n","import 'regenerator-runtime/runtime.js';\r\nimport d3Tip from 'd3-tip';\r\n\r\nimport {\r\n  getLocationData,\r\n  getCounterData,\r\n  createBarChartData,\r\n  createLineChartData,\r\n  createDataset,\r\n  createAreaChartData,\r\n  createMapCircleData,\r\n  createNeighborhoodData,\r\n} from './scripts/preprocess';\r\nimport {\r\n  getMontrealData,\r\n  getProjection,\r\n  getPath,\r\n  getBikePaths,\r\n} from './scripts/geography';\r\nimport {\r\n  generateMapGroups,\r\n  drawMapBackground,\r\n  drawCircles,\r\n} from './scripts/mapViz';\r\nimport { setupLineGroup, drawLineChart } from './scripts/lineChart';\r\nimport {\r\n  drawAreaChart,\r\n  hideAreaChart,\r\n  setupAreaSVG,\r\n} from './scripts/areaChart';\r\nimport { setupBarSVG, drawBarChart } from './scripts/barChartViz.js';\r\nimport { drawDropdown } from './scripts/dropdown.js';\r\nimport {\r\n  dropDownClickHandler,\r\n  circleClickHandler,\r\n  setSubtitle,\r\n} from './scripts/clickHandlers';\r\nimport { changeLocale } from './scripts/changeLocale';\r\nimport { showViz } from './scripts/spinner';\r\nimport { renderTooltip } from './scripts/tooltip';\r\n\r\n(async function () {\r\n  changeLocale();\r\n\r\n  const mapsize = {\r\n    width: 800,\r\n    height: 700,\r\n  };\r\n  const lineSize = {\r\n    width: 400,\r\n    height: 250,\r\n  };\r\n  const areaSize = {\r\n    width: 800,\r\n    height: 350,\r\n  };\r\n  const barSize = areaSize;\r\n\r\n  // Get all raw data\r\n  const years = [\r\n    2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020,\r\n    2021,\r\n  ];\r\n  const bixiYear = 2019;\r\n  const montreal = await getMontrealData();\r\n  const bikePaths = await getBikePaths();\r\n  const locationData = await getLocationData();\r\n  const counterData = await getCounterData(years);\r\n\r\n  // Generate tooltip and SVG groups\r\n  const tip = d3Tip()\r\n    .attr('class', 'd3-tip')\r\n    .html(function (d) {\r\n      return renderTooltip(d);\r\n    });\r\n  generateMapGroups(mapsize.width, mapsize.height, tip);\r\n  setupAreaSVG(areaSize.width, areaSize.height);\r\n  setupLineGroup(lineSize.width, lineSize.height);\r\n  setupBarSVG(barSize.width, barSize.height);\r\n\r\n  // Render map\r\n  const projection = getProjection();\r\n  const path = getPath(projection);\r\n\r\n  // Get all processed data\r\n  const dataset = createDataset(locationData, counterData, years, montreal);\r\n  const mapData = createMapCircleData(dataset, projection);\r\n  const neighborhoodData = createNeighborhoodData(montreal, mapData);\r\n  const lineChartData = createLineChartData(dataset);\r\n  const areaChartData = createAreaChartData(dataset);\r\n  const barChartData = createBarChartData(dataset);\r\n\r\n  // Used to redraw all viz when year changes\r\n  // Reverts to default visualizations\r\n  function redrawVizForYear(year) {\r\n    setSubtitle('Moyenne du réseau en ' + year.toString());\r\n    drawMapBackground(\r\n      neighborhoodData[year],\r\n      bikePaths,\r\n      path,\r\n      circleClickHandler(redrawVizForCounter),\r\n      tip,\r\n    );\r\n    drawCircles(mapData[year], circleClickHandler(redrawVizForCounter), tip);\r\n    drawLineChart(\r\n      lineSize.width,\r\n      lineSize.height,\r\n      lineChartData[year]['Average'],\r\n    );\r\n    if (year > 2018) {\r\n      drawAreaChart(\r\n        areaSize.width,\r\n        areaSize.height,\r\n        areaChartData[year]['Average'],\r\n      );\r\n    } else {\r\n      hideAreaChart(areaSize.width);\r\n    }\r\n    drawBarChart(\r\n      barSize.width,\r\n      barSize.height,\r\n      bixiYear,\r\n      barChartData['Average'],\r\n    );\r\n  }\r\n  // Used to redraw viz for each counter clicked\r\n  function redrawVizForCounter(year, name, neighborhood) {\r\n    setSubtitle(name, neighborhood);\r\n    drawLineChart(\r\n      lineSize.width,\r\n      lineSize.height,\r\n      lineChartData[year]['Average'],\r\n      lineChartData[year][name],\r\n      neighborhood === undefined,\r\n    );\r\n    if (year > 2018) {\r\n      drawAreaChart(\r\n        areaSize.width,\r\n        areaSize.height,\r\n        areaChartData[year]['Average'],\r\n        areaChartData[year][name],\r\n        neighborhood === undefined,\r\n      );\r\n    } else {\r\n      hideAreaChart(areaSize.width);\r\n    }\r\n    drawBarChart(\r\n      barSize.width,\r\n      barSize.height,\r\n      bixiYear,\r\n      barChartData['Average'],\r\n      barChartData[name],\r\n      neighborhood === undefined,\r\n    );\r\n  }\r\n\r\n  const year = drawDropdown(years);\r\n  dropDownClickHandler(redrawVizForYear);\r\n\r\n  // Show viz, hide spinner, draw graphs for first time\r\n  showViz();\r\n  redrawVizForYear(year);\r\n})(d3);\r\n","/**\r\n * Hides the spinner loading symbol when the viz is ready to be shown\r\n */\r\nexport function showViz() {\r\n  d3.select('#viz-container').style('visibility', 'visible');\r\n  d3.select('#spinner').style('display', 'none');\r\n}\r\n"],"names":["$38063efcb0b229b0$var$Map","$38063efcb0b229b0$var$map","object","f","map1","each","value","key","set","Array","isArray","o","i","n","length","key1","prototype","constructor","has","this","get","remove","property","clear","keys","push","slice","values","entries","size","empty","$38063efcb0b229b0$export$2e2bcd8739ae039","$cf3c72678de97179$var$Set","$cf3c72678de97179$var$proto","$cf3c72678de97179$var$set","set1","add","$6e0da2549057218e$var$none","$6e0da2549057218e$export$2e2bcd8739ae039","selector","querySelector","$7d92e4f75dbef49d$var$empty","$e7fb628d3a97a780$export$2e2bcd8739ae039","update","$3e99928b06782938$export$67b01759a14cf6a4","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","appendChild","child","insertBefore","next","querySelectorAll","$cf943aeeeea8dffb$var$bindIndex","group","enter","exit","data","node","groupLength","dataLength","$cf943aeeeea8dffb$var$bindKey","keyValue","nodeByKeyValue","keyValues","call","$faed8eab1469f61d$var$ascending","a","b","NaN","$53f2bc3e7847f93d$export$2e2bcd8739ae039","svg","xhtml","xlink","xml","xmlns","$b659c67af9335162$export$2e2bcd8739ae039","name","prefix","indexOf","hasOwnProperty","space","local","$8ba31651ad7591ba$var$attrRemove","removeAttribute","$8ba31651ad7591ba$var$attrRemoveNS","fullname","removeAttributeNS","$8ba31651ad7591ba$var$attrConstant","setAttribute","$8ba31651ad7591ba$var$attrConstantNS","setAttributeNS","$8ba31651ad7591ba$var$attrFunction","v","apply","arguments","$8ba31651ad7591ba$var$attrFunctionNS","$89f2562a5a0d5a13$export$2e2bcd8739ae039","defaultView","document","$6abb942964e997ae$var$styleRemove","style","removeProperty","$6abb942964e997ae$var$styleConstant","priority","setProperty","$6abb942964e997ae$var$styleFunction","$6abb942964e997ae$export$5e3cec964f0b5efd","getPropertyValue","getComputedStyle","$2b37810bbc11c28b$var$propertyRemove","$2b37810bbc11c28b$var$propertyConstant","$2b37810bbc11c28b$var$propertyFunction","$6515c3ccac9efd7a$var$classArray","string","trim","split","$6515c3ccac9efd7a$var$classList","classList","$6515c3ccac9efd7a$var$ClassList","_node","_names","getAttribute","$6515c3ccac9efd7a$var$classedAdd","names","list","$6515c3ccac9efd7a$var$classedRemove","$6515c3ccac9efd7a$var$classedTrue","$6515c3ccac9efd7a$var$classedFalse","$6515c3ccac9efd7a$var$classedFunction","$23bcbc7d81179ba9$var$textRemove","textContent","$23bcbc7d81179ba9$var$textConstant","$23bcbc7d81179ba9$var$textFunction","$d5514f1406649954$var$htmlRemove","innerHTML","$d5514f1406649954$var$htmlConstant","$d5514f1406649954$var$htmlFunction","$c6aae8ef09c3d03d$var$raise","nextSibling","parentNode","$4669a19c71181bd1$var$lower","previousSibling","firstChild","$8408c2f95f59818f$var$creatorInherit","uri","documentElement","createElement","createElementNS","$8408c2f95f59818f$var$creatorFixed","$8408c2f95f59818f$export$2e2bcd8739ae039","$45485f4f27d149f8$var$constantNull","$d587d6535138580c$var$remove","removeChild","$3323c835dc2d74de$var$selection_cloneShallow","clone","cloneNode","$3323c835dc2d74de$var$selection_cloneDeep","join","splice","contains","$dd1fb49221ad966f$var$filterEvents","$dd1fb49221ad966f$export$6cd530ed55e06764","mouseenter","mouseleave","$dd1fb49221ad966f$var$filterContextListener","listener","index","$dd1fb49221ad966f$var$contextListener","event1","related","relatedTarget","compareDocumentPosition","event0","$dd1fb49221ad966f$var$parseTypenames","typenames","map","t","type","$dd1fb49221ad966f$var$onRemove","typename","on","__on","j","m","removeEventListener","capture","$dd1fb49221ad966f$var$onAdd","wrap","d","addEventListener","$27c639e461d8a390$var$dispatchEvent","params","window","event","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchEvent","$27c639e461d8a390$var$dispatchConstant","$27c639e461d8a390$var$dispatchFunction","$28a9f77d63e1ff25$export$e8e78c978b129247","$28a9f77d63e1ff25$export$52baac22726c72bf","groups","parents","_groups","_parents","$28a9f77d63e1ff25$var$selection","select","subgroups","subnode","subgroup","selectAll","filter","match","matches","x","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","onenter","onupdate","onexit","append","merge","order","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","classed","text","html","raise","lower","create","insert","before","deep","dispatch","$28a9f77d63e1ff25$export$2e2bcd8739ae039","$cf81072cf307ee25$export$2e2bcd8739ae039","$b92a11c9470fd5d4$export$2e2bcd8739ae039","direction","offset","rootElement","body","initNode","point","target","tip","vis","svgNode","tagName","toLowerCase","ownerSVGElement","createSVGPoint","show","args","SVGElement","pop","coords","content","poffset","dir","nodel","getNodeEl","directions","scrollTop","scrollLeft","directionCallbacks","top","left","hide","functor","destroy","bbox","getScreenBBox","y","offsetHeight","offsetWidth","s","e","w","nw","ne","sw","se","div","targetShape","targetel","getScreenCTM","matrix","tbbox","getBBox","width","height","matrixTransform","$5a4e08052c16a16d$exports","vs","start","end","inside","undefined","len","xi","yi","xj","yj","async","$ceabff54d7b213d9$export$ebe55e39390500a5","d3","json","$ceabff54d7b213d9$export$3edc714f9fa271c0","$ceabff54d7b213d9$export$df2567d92aff9d24","lon","lat","montreal","returnName","forEach","feature","$parcel$interopDefault","$44f6d5989509de22$exports","geometry","coordinates","properties","NOM","$ceabff54d7b213d9$export$2aa3fd96c49a84a8","projection","geoPath","$ceabff54d7b213d9$export$c4089d80e25ad81e","longitude","latitude","projected","$5cfb72ae602df450$var$sum","a1","reduce","c","isNaN","$5cfb72ae602df450$var$groupSum","key2","$5cfb72ae602df450$export$82208cf1aec14b57","years","counterData","Promise","all","year","csv","$5cfb72ae602df450$export$9d0b2837dcb8a0a9","locations","counters","Object","counter","find","includes","ID","Nom","dataset","Longitude","Latitude","timestep","time","dateTime","date","acceptedCounters","count","parseInt","counts","$5cfb72ae602df450$export$472af4f116b27ca3","mapData","yearData","neighborhood","counterList","numCounters","neighborhoodCounts","averageCounts","round","newCounts","averageDayCounts","lineChartData","totalCounters","averageTimeCounts","areaChartData","allCounts","counterSum","barChartData","neighborhoodDataForYear","total","neighborhoodSum","$1e9b62501dbf7c92$export$48abbfdd2194ed43","cycleData","path","mapBase","colorScale","maxCounts","max","scaleLinear","domain","range","$1e9b62501dbf7c92$var$generateColorScale","transition","ease","easeCubicInOut","$1e9b62501dbf7c92$var$drawBikePaths","$1e9b62501dbf7c92$var$mouseout","scale","$1e9b62501dbf7c92$export$e65936cef493d66f","data1","$1e9b62501dbf7c92$var$generateRadiusScale","$4e390afc6e925d05$exports","nested","flat","$02e30787e2b2aa30$export$2e2bcd8739ae039","$f183d3a42cb7d248$export$2e2bcd8739ae039","$6bea71ec833b1bf0$var$creatorInherit","$6bea71ec833b1bf0$var$creatorFixed","$6bea71ec833b1bf0$export$2e2bcd8739ae039","$2ebf0b7af4e954dd$var$nextId","$2ebf0b7af4e954dd$var$Local","_","toString","id","$489c932d6ec44f31$var$matcher","$489c932d6ec44f31$var$element","$489c932d6ec44f31$var$vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","$489c932d6ec44f31$export$2e2bcd8739ae039","$f1cbaf7502550def$var$filterEvents","$f1cbaf7502550def$export$6cd530ed55e06764","$f1cbaf7502550def$var$filterContextListener","$f1cbaf7502550def$var$contextListener","$f1cbaf7502550def$var$parseTypenames","$f1cbaf7502550def$var$onRemove","$f1cbaf7502550def$var$onAdd","$436be6b37c69c57e$var$none","$436be6b37c69c57e$export$2e2bcd8739ae039","$0c556b61fa572a92$var$empty","$4bb3086ae0303ad4$export$2e2bcd8739ae039","$8ea7892152383dce$export$67b01759a14cf6a4","$76da6bd6f3c15c37$var$bindIndex","$76da6bd6f3c15c37$var$bindKey","$676f05b79df8ec09$var$ascending","$57e8003a8c6ff64e$var$attrRemove","$57e8003a8c6ff64e$var$attrRemoveNS","$57e8003a8c6ff64e$var$attrConstant","$57e8003a8c6ff64e$var$attrConstantNS","$57e8003a8c6ff64e$var$attrFunction","$57e8003a8c6ff64e$var$attrFunctionNS","$38f0d8c854af1f64$export$2e2bcd8739ae039","$6de01780871f92f8$var$styleRemove","$6de01780871f92f8$var$styleConstant","$6de01780871f92f8$var$styleFunction","$e08187f410ff6714$var$propertyRemove","$e08187f410ff6714$var$propertyConstant","$e08187f410ff6714$var$propertyFunction","$0f09df41324a3750$var$classArray","$0f09df41324a3750$var$classList","$0f09df41324a3750$var$ClassList","$0f09df41324a3750$var$classedAdd","$0f09df41324a3750$var$classedRemove","$0f09df41324a3750$var$classedTrue","$0f09df41324a3750$var$classedFalse","$0f09df41324a3750$var$classedFunction","$f28a21ebf6ee6c72$var$textRemove","$f28a21ebf6ee6c72$var$textConstant","$f28a21ebf6ee6c72$var$textFunction","$909cb491c39c48ed$var$htmlRemove","$909cb491c39c48ed$var$htmlConstant","$909cb491c39c48ed$var$htmlFunction","$3796d5213c0fcf5d$var$raise","$e26dae4d7e12716f$var$lower","$2f9a022d987f14b1$var$constantNull","$bd7341d801880021$var$remove","$53c3bf92d887eb09$var$dispatchEvent","$53c3bf92d887eb09$var$dispatchConstant","$53c3bf92d887eb09$var$dispatchFunction","$78f2c8108cd30dc4$export$e8e78c978b129247","$78f2c8108cd30dc4$export$52baac22726c72bf","$78f2c8108cd30dc4$var$selection","$39a33dc3e3e3557a$export$6863724d9a42263","$367285eab756e985$export$2e2bcd8739ae039","p","toExponential","coefficient","$a0339b25fd1748ad$export$2e2bcd8739ae039","abs","$43a68cddc88a7122$export$2e2bcd8739ae039","exponent","$0f0264a3cb31fc55$export$2e2bcd8739ae039","out","toPrecision","toFixed","g","r","floor","X","toUpperCase","$75b319f0cf467722$var$re","$75b319f0cf467722$export$2e2bcd8739ae039","specifier","$75b319f0cf467722$var$FormatSpecifier","exec","Error","fill","align","sign","symbol","zero","comma","precision","$2923d6bd0a71dfc6$var$locale","$2923d6bd0a71dfc6$export$d9468344d3651243","$2923d6bd0a71dfc6$export$8d85692a469dde6f","$6cbae040de91b4de$var$prefixes","$6cbae040de91b4de$var$identity","$6cbae040de91b4de$export$2e2bcd8739ae039","locale","grouping","thousands","substring","reverse","currency","decimal","newFormat","test","suffix","formatType","maybeSuffix","format","valuePrefix","valueSuffix","valueNegative","charCodeAt","Infinity","padding","formatPrefix","value1","k","pow","$197cf20b20f3a64f$export$2e2bcd8739ae039","step","$4d413b8d1a1f1df6$export$2e2bcd8739ae039","$f40a1c2c2534e63c$export$2e2bcd8739ae039","$c37e61a42154af2b$var$noop","$c37e61a42154af2b$var$dispatch","$c37e61a42154af2b$var$Dispatch","$c37e61a42154af2b$var$parseTypenames","types","$c37e61a42154af2b$var$get","$c37e61a42154af2b$var$set","concat","T","copy","that","$c37e61a42154af2b$export$2e2bcd8739ae039","$96616a858c545e25$export$2e2bcd8739ae039","$899c066962aa2c6d$export$2e2bcd8739ae039","lo","hi","mid","right","$e2fd24c08995d84b$var$ascendingBisect","$e2fd24c08995d84b$export$4d945ad3ad5751b0","$e2fd24c08995d84b$export$2e2bcd8739ae039","$bd6d81620cb0c55a$var$array","$ff7b9409f4bde868$export$2e2bcd8739ae039","stop","ceil","$9f5bd5af8543eafd$var$e10","sqrt","$9f5bd5af8543eafd$var$e5","$9f5bd5af8543eafd$var$e2","$9f5bd5af8543eafd$export$2e2bcd8739ae039","$9f5bd5af8543eafd$export$81087d9b915d4ede","step0","step1","log","LN10","error","$78fef7abc5430074$export$2e2bcd8739ae039","array","$cb6eb3ba1d090ab8$export$2e2bcd8739ae039","$a7a9baa602dc18fd$var$array","$a7a9baa602dc18fd$export$871de8747c9eaa88","$a7a9baa602dc18fd$export$58adb3bec8346d0f","$831e9a7deaab9d1d$export$2e2bcd8739ae039","factory","$831e9a7deaab9d1d$export$8b58be045bf06082","definition","$8b7826cd7970b69e$export$892596cec99bc70e","$8b7826cd7970b69e$var$reN","$8b7826cd7970b69e$var$reP","$8b7826cd7970b69e$var$reHex","$8b7826cd7970b69e$var$reRgbInteger","RegExp","$8b7826cd7970b69e$var$reRgbPercent","$8b7826cd7970b69e$var$reRgbaInteger","$8b7826cd7970b69e$var$reRgbaPercent","$8b7826cd7970b69e$var$reHslPercent","$8b7826cd7970b69e$var$reHslaPercent","$8b7826cd7970b69e$var$named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$8b7826cd7970b69e$var$color_formatHex","rgb","formatHex","$8b7826cd7970b69e$var$color_formatRgb","formatRgb","$8b7826cd7970b69e$export$2e2bcd8739ae039","l","$8b7826cd7970b69e$var$rgbn","$8b7826cd7970b69e$export$5e05a94393ac29e3","$8b7826cd7970b69e$var$rgba","$8b7826cd7970b69e$var$hsla","$8b7826cd7970b69e$export$42da0a331c2802f5","opacity","$8b7826cd7970b69e$export$8972dc0e6ad9238f","$8b7826cd7970b69e$var$rgb_formatHex","$8b7826cd7970b69e$var$hex","$8b7826cd7970b69e$var$rgb_formatRgb","h","$8b7826cd7970b69e$var$Hsl","$8b7826cd7970b69e$export$8133dc3fa904d6d1","$8b7826cd7970b69e$var$hsl2rgb","m2","channels","assign","displayable","hex","formatHsl","brighter","darker","$70576c5c5ae147f6$export$b1b275608b2b1b8","PI","$70576c5c5ae147f6$export$b2ba2578f2c43d74","$046e8f1d7426ff04$var$cubehelixConvert","$046e8f1d7426ff04$export$57ed4bde61a1e2f2","$046e8f1d7426ff04$var$B","$046e8f1d7426ff04$var$E","bl","atan2","$046e8f1d7426ff04$export$2e2bcd8739ae039","$dd5733431a2d0880$export$4e41033bfeec1a4c","t1","v0","v1","v2","v3","t2","t3","$78a660cd70c52f6f$export$2e2bcd8739ae039","$529dc8928f6a4077$var$linear","$529dc8928f6a4077$export$a7ebe8cc6aaf8d37","$529dc8928f6a4077$export$2e2bcd8739ae039","$529dc8928f6a4077$var$exponential","cosh","cos","sinh","sin","$e7e88f7f6ed95eef$export$2e2bcd8739ae039","rgbGamma","color","gamma","$e7e88f7f6ed95eef$var$rgbSpline","spline","colors","$7bfe9c15ff8ebf5c$export$2e2bcd8739ae039","$7bfe9c15ff8ebf5c$export$5cd576d1827d40c8","ArrayBuffer","isView","DataView","$23bbf03008765dcc$export$15d09067c6a5ee49","nb","na","$8385105b4986daed$export$2e2bcd8739ae039","$063cbb46f86ba478$export$2e2bcd8739ae039","Date","setTime","$bebed377ddb9d3af$export$2e2bcd8739ae039","$cf536f4647e343d9$export$2e2bcd8739ae039","$020916edd93bff72$var$reA","$020916edd93bff72$var$reB","source","$020916edd93bff72$export$2e2bcd8739ae039","am","bm","bs","bi","lastIndex","q","$020916edd93bff72$var$one","$020916edd93bff72$var$zero","valueOf","$c0f8a9efb1caa699$export$2e2bcd8739ae039","$ffc3b01ae2663238$var$cubehelix","hue1","cubehelixGamma","cubehelix1","$ffc3b01ae2663238$export$934fa09ad474a1b4","$bed26cd562b4314d$export$2e2bcd8739ae039","$e55ab7d5f709678d$export$2e2bcd8739ae039","$4c550f4e3249ea42$var$unit","$4c550f4e3249ea42$export$774010690f7452c2","$4c550f4e3249ea42$var$bimap","deinterpolate","reinterpolate","d0","d1","r0","r1","$4c550f4e3249ea42$var$polymap","$4c550f4e3249ea42$export$784d13d8ee351f07","interpolate","clamp","$4c550f4e3249ea42$export$2e2bcd8739ae039","piecewise","output","input","rescale","$4c550f4e3249ea42$var$deinterpolateClamp","invert","$4c550f4e3249ea42$var$reinterpolateClamp","rangeRound","$22fac6fbc710f337$export$2e2bcd8739ae039","$9959fb9544e5a50e$export$16a5d4b4a61a274d","ticks","tickFormat","nice","$9959fb9544e5a50e$export$2e2bcd8739ae039","$f26fc9b6912de968$var$t0","$f26fc9b6912de968$var$t1","$f26fc9b6912de968$export$2e2bcd8739ae039","floori","offseti","field","interval","every","isFinite","$79ec6c01997bf022$var$millisecond","$490d5c36270b8fcb$var$second","getMilliseconds","getUTCSeconds","$292297f992a3b17e$var$minute","getSeconds","getMinutes","$9472e71f07850dab$var$hour","getHours","$51fe2e20810fcb40$var$day","setHours","setDate","getDate","getTimezoneOffset","$51fe2e20810fcb40$export$2e2bcd8739ae039","$7f6029921eecd017$var$weekday","getDay","$7f6029921eecd017$export$fb3ee18ed410cc21","$7f6029921eecd017$export$6416afaab03bc9b8","$7f6029921eecd017$export$cb8f040f5d17ac7b","$7f6029921eecd017$export$347581849975dfc8","$7f6029921eecd017$export$2f2b56683a3e5629","$7f6029921eecd017$export$59b8c2ccd931d806","$7f6029921eecd017$export$478ceadebff4d377","$031c190f93ea3efa$var$month","setMonth","getMonth","getFullYear","$dd6e0f506bfbbd03$var$year","setFullYear","$dd6e0f506bfbbd03$export$2e2bcd8739ae039","$6790bec6cda46448$var$utcMinute","setUTCSeconds","getUTCMinutes","$2305685918ef6fca$var$utcHour","setUTCMinutes","getUTCHours","$1e9cc8da96008c84$var$utcDay","setUTCHours","setUTCDate","getUTCDate","$1e9cc8da96008c84$export$2e2bcd8739ae039","$7055c522f3e8f599$var$utcWeekday","getUTCDay","$7055c522f3e8f599$export$4898b06303a92011","$7055c522f3e8f599$export$9cfc53b9cfafd080","$7055c522f3e8f599$export$2a6d545f77eceb15","$7055c522f3e8f599$export$a5c25d8ed64433c4","$7055c522f3e8f599$export$1db08111baec2f53","$7055c522f3e8f599$export$29265e34dd5921f7","$7055c522f3e8f599$export$85b74dad05049604","$8f8815fab2435516$var$utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","$997354f20ca19d0d$var$utcYear","setUTCFullYear","$997354f20ca19d0d$export$2e2bcd8739ae039","$4157b52e8d75e4ef$var$localDate","H","M","S","L","$4157b52e8d75e4ef$var$utcDate","UTC","$4157b52e8d75e4ef$var$newDate","$4157b52e8d75e4ef$export$2e2bcd8739ae039","locale_dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","$4157b52e8d75e4ef$var$formatRe","periodLookup","$4157b52e8d75e4ef$var$formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats1","A","B","$4157b52e8d75e4ef$var$formatDayOfMonth","$4157b52e8d75e4ef$var$formatMicroseconds","$4157b52e8d75e4ef$var$formatYearISO","G","$4157b52e8d75e4ef$var$formatFullYearISO","$4157b52e8d75e4ef$var$formatHour24","I","$4157b52e8d75e4ef$var$formatHour12","$4157b52e8d75e4ef$var$formatDayOfYear","$4157b52e8d75e4ef$var$formatMilliseconds","$4157b52e8d75e4ef$var$formatMonthNumber","$4157b52e8d75e4ef$var$formatMinutes","Q","$4157b52e8d75e4ef$var$formatUnixTimestamp","$4157b52e8d75e4ef$var$formatUnixTimestampSeconds","$4157b52e8d75e4ef$var$formatSeconds","u","$4157b52e8d75e4ef$var$formatWeekdayNumberMonday","U","$4157b52e8d75e4ef$var$formatWeekNumberSunday","V","$4157b52e8d75e4ef$var$formatWeekNumberISO","$4157b52e8d75e4ef$var$formatWeekdayNumberSunday","W","$4157b52e8d75e4ef$var$formatWeekNumberMonday","$4157b52e8d75e4ef$var$formatYear","Y","$4157b52e8d75e4ef$var$formatFullYear","Z","$4157b52e8d75e4ef$var$formatZone","$4157b52e8d75e4ef$var$formatLiteralPercent","utcFormats","$4157b52e8d75e4ef$var$formatUTCDayOfMonth","$4157b52e8d75e4ef$var$formatUTCMicroseconds","$4157b52e8d75e4ef$var$formatUTCYearISO","$4157b52e8d75e4ef$var$formatUTCFullYearISO","$4157b52e8d75e4ef$var$formatUTCHour24","$4157b52e8d75e4ef$var$formatUTCHour12","$4157b52e8d75e4ef$var$formatUTCDayOfYear","$4157b52e8d75e4ef$var$formatUTCMilliseconds","$4157b52e8d75e4ef$var$formatUTCMonthNumber","$4157b52e8d75e4ef$var$formatUTCMinutes","$4157b52e8d75e4ef$var$formatUTCSeconds","$4157b52e8d75e4ef$var$formatUTCWeekdayNumberMonday","$4157b52e8d75e4ef$var$formatUTCWeekNumberSunday","$4157b52e8d75e4ef$var$formatUTCWeekNumberISO","$4157b52e8d75e4ef$var$formatUTCWeekdayNumberSunday","$4157b52e8d75e4ef$var$formatUTCWeekNumberMonday","$4157b52e8d75e4ef$var$formatUTCYear","$4157b52e8d75e4ef$var$formatUTCFullYear","$4157b52e8d75e4ef$var$formatUTCZone","parses","parseSpecifier","$4157b52e8d75e4ef$var$parseDayOfMonth","$4157b52e8d75e4ef$var$parseMicroseconds","$4157b52e8d75e4ef$var$parseYear","$4157b52e8d75e4ef$var$parseFullYear","$4157b52e8d75e4ef$var$parseHour24","$4157b52e8d75e4ef$var$parseDayOfYear","$4157b52e8d75e4ef$var$parseMilliseconds","$4157b52e8d75e4ef$var$parseMonthNumber","$4157b52e8d75e4ef$var$parseMinutes","$4157b52e8d75e4ef$var$parseQuarter","$4157b52e8d75e4ef$var$parseUnixTimestamp","$4157b52e8d75e4ef$var$parseUnixTimestampSeconds","$4157b52e8d75e4ef$var$parseSeconds","$4157b52e8d75e4ef$var$parseWeekdayNumberMonday","$4157b52e8d75e4ef$var$parseWeekNumberSunday","$4157b52e8d75e4ef$var$parseWeekNumberISO","$4157b52e8d75e4ef$var$parseWeekdayNumberSunday","$4157b52e8d75e4ef$var$parseWeekNumberMonday","$4157b52e8d75e4ef$var$parseZone","$4157b52e8d75e4ef$var$parseLiteralPercent","formats","pad1","$4157b52e8d75e4ef$var$pads","charAt","newParse","week","day","parse","utcFormat","utcParse","$ab7c43b9c9b782d9$var$locale","$4157b52e8d75e4ef$var$numberRe","$4157b52e8d75e4ef$var$percentRe","$4157b52e8d75e4ef$var$requoteRe","$4157b52e8d75e4ef$var$pad","$4157b52e8d75e4ef$var$requote","replace","$4157b52e8d75e4ef$var$dISO","z","getUTCMilliseconds","dow","$4157b52e8d75e4ef$var$UTCdISO","$ab7c43b9c9b782d9$export$2e2bcd8739ae039","$5bfc998e92f68f2e$export$2e2bcd8739ae039","$2d3c10438eb043a3$var$ramp","d3_identity","d3_reverse","arr","mirror","d3_textWrapping","word","words","line","dy","parseFloat","tspan","getComputedTextLength","$be0455fd23bce034$var$helper","d3_drawShapes","shape","shapes","shapeHeight","shapeWidth","shapeRadius","d3_addText","labels","classPrefix","labelWidth","d3_calcType","ascending","cells","labelFormat","labelDelimiter","invertExtent","d3_quantLegend","increment","d3_linearLegend","d3_ordinalLegend","gen","$be0455fd23bce034$var$_typeof","customLabels","genLength","_i","d3_mergeLabels","d3_filterCells","cellFilter","filterCells","label","dataValues","labelValues","d3_placement","orient","cell","cellTrans","textTrans","labelAlign","d3_addEvents","dispatcher","cellDispatcher","obj","d3_title","title","titleWidth","cellsSvg","yOffset","xOffset","d3_defaultLocale","d3_defaultFormatSpecifier","d3_defaultDelimiter","legendColor","shapePadding","useClass","helper","labelOffset","labelWrap","legendDispatcher","legend","cellEnter","textSize","shapeSize","cellSize","textAlign","sum","formatLocale","formatSpecifier","textWrap","legendSize","legendG","stroke","maxH","maxW","legendSymbol","_ref","generatedLabels","$5549c86fe60bf13a$export$4eeabfdbe5f96d9","$5549c86fe60bf13a$export$b57f9467d5b39444","averageData","isNeighborhood","$5549c86fe60bf13a$var$addLabels","outerG","xScale","$5549c86fe60bf13a$var$generateXScale","yScale","$5549c86fe60bf13a$var$generateYScale","xAxis","axisBottom","scaleTime","timeFormat","axisLeft","$5549c86fe60bf13a$var$addAxes","scaleOrdinal","$5549c86fe60bf13a$var$generateColorScale","$be0455fd23bce034$export$2e2bcd8739ae039","innerG","$244c9d65a2076c81$export$4ef73431a760c0b7","$244c9d65a2076c81$var$addTitle","$244c9d65a2076c81$export$6e6b815fe454364d","$244c9d65a2076c81$var$addLabels","$244c9d65a2076c81$var$generateXScale","scaleBand","bandwidth","averageDomain","$d62fe7091d94122e$export$7ab24ddbe2dc5f1a","$872c6a00e4259fb1$export$a7a819994adda4d1","$872c6a00e4259fb1$export$7ebcaf3b24016db","$41e013a4af9b2007$export$7343075cd7f756c5","month","timeFormatDefaultLocale","$9913f98ecdefcd74$export$2c9a28f937ef04fb","mapsize","lineSize","areaSize","barSize","bikePaths","locationData","tooltip","$88c489d0369beef9$export$25d680cd1394c7f3","geoMercator","center","$5cfb72ae602df450$export$dc0eaef47cc3157f","neighborhoodData","$5cfb72ae602df450$export$3025a8dd7a7c45b4","$5cfb72ae602df450$export$622bbef83119cb4d","$5cfb72ae602df450$export$37f1c0e56374e37c","$5cfb72ae602df450$export$850d506dc089a6ee","redrawVizForYear","redrawVizForCounter","$244c9d65a2076c81$export$eb93617a76769599","$88c489d0369beef9$export$f5a33944a1256dde","year1"],"version":3,"file":"index.e128053f.js.map"}